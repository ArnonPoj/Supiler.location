<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Interactive Map with Marker Form</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
    <style>
        #map { height: 90vh; width: 100%; }
        .popup-form {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        .popup-form input {
            width: 100%;
            padding: 4px;
            font-size: 14px;
        }
        .popup-form button {
            padding: 4px;
            background-color: green;
            color: white;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body>

<h2 style="text-align: center;">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ö‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î‡πÅ‡∏•‡∏∞‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Supplier</h2>
<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
<script>
    const map = L.map('map').setView([13.7563, 100.5018], 12);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 18,
        attribution: '¬© OpenStreetMap'
    }).addTo(map);

    map.on('click', function(e) {
        const lat = e.latlng.lat.toFixed(5);
        const lng = e.latlng.lng.toFixed(5);

        const popupContent = `
            <div class="popup-form">
                <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó</label>
                <input type="text" id="name-${lat}-${lng}" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ö‡∏à‡∏Å.‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á">
                <label>‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</label>
                <input type="text" id="contact-${lat}-${lng}" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠">
                <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</label>
                <input type="text" id="phone-${lat}-${lng}" placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£">
                <button onclick="submitSupplier('${lat}', '${lng}')">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            </div>
        `;

        const marker = L.marker([lat, lng]).addTo(map)
            .bindPopup(popupContent)
            .openPopup();
    });

    function submitSupplier(lat, lng) {
        const name = document.getElementById(`name-${lat}-${lng}`).value;
        const contact = document.getElementById(`contact-${lat}-${lng}`).value;
        const phone = document.getElementById(`phone-${lat}-${lng}`).value;

        console.log("üìç ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏°‡∏∏‡∏î‡πÉ‡∏´‡∏°‡πà:", {
            lat, lng, name, contact, phone
        });

        alert(`‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Supplier ‡πÅ‡∏•‡πâ‡∏ß:\n‡∏ä‡∏∑‡πà‡∏≠: ${name}\n‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠: ${contact}\n‡πÄ‡∏ö‡∏≠‡∏£‡πå: ${phone}`);

        // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡πÑ‡∏õ‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå (AJAX/Fetch)
    }
</script>

</body>
</html>
